{"ast":null,"code":"import _objectSpread from\"/Users/zhengwen/Desktop/zw/vote-app/vote-front/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/zhengwen/Desktop/zw/vote-app/vote-front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/zhengwen/Desktop/zw/vote-app/vote-front/node_modules/@babel/runtime/regenerator/index.js\";//注册新用户\nimport axios from'axios';import'./Register.css';import{useNavigate}from'react-router-dom';import{useInput}from'./hooks';import{Button,Input}from'antd';import'antd/dist/antd.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){var name=useInput();var password=useInput();var email=useInput();var navigate=useNavigate();function register(){return _register.apply(this,arguments);}function _register(){_register=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var newUser,res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:newUser={name:name.value,password:password.value,email:email.value};console.log('new user',newUser);_context.prev=2;_context.next=5;return axios.post('/account/register',newUser);case 5:res=_context.sent;navigate('/login',{replace:true});_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);data=res.data;console.log(data);case 13:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return _register.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{id:\"reg-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"box3\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Input,_objectSpread({type:\"text\",placeholder:\"\\u8D26\\u6237\\u540D\"},name))}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Input,_objectSpread({type:\"password\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5BC6\\u7801\"},password))}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Input,_objectSpread({type:\"text\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u90AE\\u7BB1\"},email))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"box4\",children:/*#__PURE__*/_jsx(Button,{type:\"primary\",shape:\"round\",onClick:register,children:\"\\u6CE8\\u518C\"})})]});// return (\n//   <div>\n//     <div>用户名：</div>\n//     <input type=\"text\" />\n//     <div>密码：</div>\n//     <input type=\"password\" />\n//     <div>Email</div>\n//     <input type=\"text\" />\n//     <div><button>注册</button></div>\n//   </div>\n// )\n}","map":{"version":3,"sources":["/Users/zhengwen/Desktop/zw/vote-app/vote-front/src/Register.js"],"names":["axios","useNavigate","useInput","Button","Input","Register","name","password","email","navigate","register","newUser","value","console","log","post","res","replace","data"],"mappings":"8YAAA;AACA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,gBAAP,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAAUC,QAAV,KAA0B,SAA1B,CACA,OAAQC,MAAR,CAAeC,KAAf,KAA2B,MAA3B,CACA,MAAO,oBAAP,C,wFAGA,cAAe,SAASC,CAAAA,QAAT,EAAmB,CAClC,GAAIC,CAAAA,IAAI,CAAEJ,QAAQ,EAAlB,CACA,GAAIK,CAAAA,QAAQ,CAAEL,QAAQ,EAAtB,CACA,GAAIM,CAAAA,KAAK,CAAGN,QAAQ,EAApB,CACA,GAAIO,CAAAA,QAAQ,CAAGR,WAAW,EAA1B,CAJkC,QAMnBS,CAAAA,QANmB,kIAMlC,wJACMC,OADN,CACgB,CACZL,IAAI,CAACA,IAAI,CAACM,KADE,CAEZL,QAAQ,CAACA,QAAQ,CAACK,KAFN,CAGZJ,KAAK,CAACA,KAAK,CAACI,KAHA,CADhB,CAMEC,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAuBH,OAAvB,EANF,sCAQoBX,CAAAA,KAAK,CAACe,IAAN,CAAW,mBAAX,CAA+BJ,OAA/B,CARpB,QAQQK,GARR,eASIP,QAAQ,CAAC,QAAD,CAAU,CAACQ,OAAO,CAAC,IAAT,CAAV,CAAR,CATJ,+EAWQC,IAXR,CAWeF,GAAG,CAACE,IAXnB,CAYIL,OAAO,CAACC,GAAR,CAAYI,IAAZ,EAZJ,oEANkC,2CAsBhC,mBACE,aAAK,EAAE,CAAC,SAAR,wBACE,aAAK,SAAS,CAAC,MAAf,wBACF,kCAAK,KAAC,KAAD,gBAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,oBAA/B,EAAyCZ,IAAzC,EAAL,EADE,cAEF,kCAAK,KAAC,KAAD,gBAAO,IAAI,CAAC,UAAZ,CAAuB,WAAW,CAAC,gCAAnC,EAA+CC,QAA/C,EAAL,EAFE,cAGF,kCAAK,KAAC,KAAD,gBAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,gCAA/B,EAA2CC,KAA3C,EAAL,EAHE,GADF,cAMA,YAAK,SAAS,CAAC,MAAf,uBAAsB,KAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,KAAK,CAAC,OAA7B,CAAqC,OAAO,CAAEE,QAA9C,0BAAtB,EANA,GADF,CAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACD","sourcesContent":["//注册新用户\nimport axios from 'axios'\nimport './Register.css'\nimport { useNavigate } from 'react-router-dom'\nimport {  useInput } from './hooks'\nimport {Button,Input} from 'antd'\nimport 'antd/dist/antd.css';\n\n\nexport default function Register(){\nvar name =useInput()\nvar password= useInput()\nvar email = useInput()\nvar navigate = useNavigate()\n\nasync function register(){\n  var newUser = {\n    name:name.value,\n    password:password.value,\n    email:email.value\n  }\n  console.log('new user',newUser)\n  try{\n    var res = await axios.post('/account/register',newUser)\n    navigate('/login',{replace:true})\n  }catch(e){\n    let data = res.data\n    console.log(data)\n  }\n}\n\n  return(\n    <div id='reg-box'>\n      <div className='box3'>\n    <div><Input type=\"text\" placeholder='账户名' {...name} /></div>\n    <div><Input type=\"password\" placeholder='请输入密码' {...password}/></div>\n    <div><Input type=\"text\" placeholder='请输入邮箱' {...email} /></div>\n      </div>\n    <div className='box4'><Button type='primary' shape='round' onClick={register}>注册</Button></div>\n    </div>\n  )\n\n  // return (\n  //   <div>\n  //     <div>用户名：</div>\n  //     <input type=\"text\" />\n  //     <div>密码：</div>\n  //     <input type=\"password\" />\n  //     <div>Email</div>\n  //     <input type=\"text\" />\n\n  //     <div><button>注册</button></div>\n  //   </div>\n  // )\n}"]},"metadata":{},"sourceType":"module"}