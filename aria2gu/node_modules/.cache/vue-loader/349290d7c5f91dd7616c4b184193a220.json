{"remainingRequest":"/Users/zhengwen/aria2gu/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhengwen/aria2gu/src/views/taskDetail.vue?vue&type=style&index=0&id=1fc89cd0&lang=less&scoped=true&","dependencies":[{"path":"/Users/zhengwen/aria2gu/src/views/taskDetail.vue","mtime":1638083556964},{"path":"/Users/zhengwen/aria2gu/node_modules/css-loader/dist/cjs.js","mtime":1637998138772},{"path":"/Users/zhengwen/aria2gu/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1637998138938},{"path":"/Users/zhengwen/aria2gu/node_modules/postcss-loader/src/index.js","mtime":1637998138837},{"path":"/Users/zhengwen/aria2gu/node_modules/less-loader/dist/cjs.js","mtime":1637998143422},{"path":"/Users/zhengwen/aria2gu/node_modules/cache-loader/dist/cjs.js","mtime":1637998138681},{"path":"/Users/zhengwen/aria2gu/node_modules/vue-loader/lib/index.js","mtime":1637998138883}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5waWVjZXsKICB3aWR0aDogMTZweDsKICBoZWlnaHQ6IDE2cHg7CiAgbWFyZ2luOiA0cHg7CiAgYmFja2dyb3VuZC1jb2xvcjogZ3JleTsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgJi5jb21wbGV0ZXsKICAgIGJhY2tncm91bmQtY29sb3I6IGdyZWVuOwogIH0KfQo="},{"version":3,"sources":["taskDetail.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"taskDetail.vue","sourceRoot":"src/views","sourcesContent":["<style lang=\"less\" scoped>\n.piece{\n  width: 16px;\n  height: 16px;\n  margin: 4px;\n  background-color: grey;\n  display: inline-block;\n  &.complete{\n    background-color: green;\n  }\n}\n</style>\n\n<template>\n  <div>\n<dl v-if=\"task\">\n  <dt>任务名称</dt>\n  <dd>{{ getFilename(task) }}</dd>\n  <dt>任务大小</dt>\n  <dd></dd>\n  <dt>进度</dt>\n  <dd></dd>\n  <dt>下载地址</dt>\n  <dd></dd>\n  <dt>文件列表</dt>\n  <dd>\n    <ul>\n      <li v-for=\"file of task.files\" :title=\"file.path\" :key=\"file.path\">{{ file.path }}</li>\n    </ul>\n  </dd>\n  <dt>目标路径</dt>\n  <dd></dd>\n  <dt>区块信息</dt>\n  <dd>\n    <span v-for=\"i of Number(task.numPieces)\" :key=\"i\" class=\"piece\" :class=\"{complete: bitfield[i-1]=='1'}\"></span>\n    <!-- 完成的片为绿色，未完成的为灰色 -->\n  </dd>\n</dl>\n  </div>\n</template>\n\n<script>\nexport default {\n  data(){\n    return{\n      task:null,\n      bitfield:[]\n    }\n  },\n  methods:{\n     getFilename(task){\n      if(task.files?.[0].path){\n        return task.files[0].path.split('/').at(-1)\n      }else{\n        return task.files?.uris?.[0]?.uri.split('/').at(-1) ?? '未知'\n      }\n    },\n  },\n async mounted(){\n    this.task = await window.aria2.tellStatus(this.$route.params.gid)\n    this.bitfield = this.task.bitfield.split('').map(it=>parseInt(it,16)).toString(2).padStart(4,'0')\n  }\n}\n</script>"]}]}