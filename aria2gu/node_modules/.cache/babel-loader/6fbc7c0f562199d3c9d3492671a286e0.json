{"remainingRequest":"/Users/zhengwen/Desktop/zw/aria2gu/node_modules/babel-loader/lib/index.js!/Users/zhengwen/Desktop/zw/aria2gu/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/zhengwen/Desktop/zw/aria2gu/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhengwen/Desktop/zw/aria2gu/src/views/Newtask.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhengwen/Desktop/zw/aria2gu/src/views/Newtask.vue","mtime":1638687305204},{"path":"/Users/zhengwen/Desktop/zw/aria2gu/babel.config.js","mtime":1637998144475},{"path":"/Users/zhengwen/Desktop/zw/aria2gu/node_modules/cache-loader/dist/cjs.js","mtime":1637998138681},{"path":"/Users/zhengwen/Desktop/zw/aria2gu/node_modules/babel-loader/lib/index.js","mtime":1637998138838},{"path":"/Users/zhengwen/Desktop/zw/aria2gu/node_modules/cache-loader/dist/cjs.js","mtime":1637998138681},{"path":"/Users/zhengwen/Desktop/zw/aria2gu/node_modules/vue-loader/lib/index.js","mtime":1637998138883}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy96aGVuZ3dlbi9EZXNrdG9wL3p3L2FyaWEyZ3Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZnVuY3Rpb24gZ2V0RmlsZUNvbnRlbnQoZmlsZSkgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICB2YXIgZnIgPSBuZXcgRmlsZVJlYWRlcigpOyAvLyDnlKjmnaXlsIZidOaWh+S7tui9rOaNogoKICAgIGZyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGNvbW1hUG9zID0gZnIucmVzdWx0LmluZGV4T2YoJywnKTsKICAgICAgcmVzb2x2ZShmci5yZXN1bHQuc2xpY2UoY29tbWFQb3MgKyAxKSk7IC8vIOaIkOWKn+ivu+WPluWImei/kOihjOatpOWHveaVsO+8jOWOu+aOieaWh+S7tuivu+WPluWQjuWJjemdoueahGRhdGE6VVJMLAogICAgICAvLyBvbmxvYWTmmK/mlofku7bor7vlj5blrozmiJDml7bop6blj5EKICAgIH07CgogICAgZnIub25lcnJvciA9IHJlamVjdDsgLy8g5Ye66ZSZ5LqL5Lu25Ye95pWw6LWL5Li6cmVqZWN0KOaWh+S7tuivu+WPluaXtuinpuWPkSkKCiAgICBmci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogIH0pOwp9CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ05ld3Rhc2tzJywKICBwcm9wczogWydhcmlhMiddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1cmlzOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN0YXJ0QlQ6IGZ1bmN0aW9uIHN0YXJ0QlQoZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZmlsZSwgYnRGaWxlQ29udGVudDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBmaWxlID0gZS50YXJnZXQuZmlsZXNbMF07CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRGaWxlQ29udGVudChmaWxlKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgYnRGaWxlQ29udGVudCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5hcmlhMi5hZGRUb3JyZW50KGJ0RmlsZUNvbnRlbnQpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgdXJpcywgdGFza0lkczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdXJpcyA9IF90aGlzMi51cmlzLnNwbGl0KCcvbicpLm1hcChmdW5jdGlvbiAoaXQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0LnRyaW0oKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5hcmlhMi5hZGRVcmkodXJpcyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHRhc2tJZHMgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKCcvJyk7IC8vIOWbnuWIsOmmlumhtQoKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Newtask.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsBA,SAAA,cAAA,CAAA,IAAA,EAAA;AACA,SAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA,MAAA,EAAA;AACA,QAAA,EAAA,GAAA,IAAA,UAAA,EAAA,CADA,CAEA;;AACA,IAAA,EAAA,CAAA,MAAA,GAAA,YAAA;AACA,UAAA,QAAA,GAAA,EAAA,CAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA;AACA,MAAA,OAAA,CAAA,EAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAAA,GAAA,CAAA,CAAA,CAAA,CAFA,CAGA;AACA;AACA,KALA;;AAMA,IAAA,EAAA,CAAA,OAAA,GAAA,MAAA,CATA,CASA;;AACA,IAAA,EAAA,CAAA,aAAA,CAAA,IAAA;AACA,GAXA,CAAA;AAYA;;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,KAAA,EAAA,CAAA,OAAA,CAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AADA,KAAA;AAGA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,mBACA,CADA,EACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,IADA,GACA,CAAA,CAAA,MAAA,CAAA,KAAA,CAAA,CAAA,CADA;AAAA;AAAA,uBAEA,cAAA,CAAA,IAAA,CAFA;;AAAA;AAEA,gBAAA,aAFA;AAAA;AAAA,uBAGA,KAAA,CAAA,KAAA,CAAA,UAAA,CAAA,aAAA,CAHA;;AAAA;AAIA,gBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA,KANA;AAOA,IAAA,KAPA,mBAOA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,IADA,GACA,MAAA,CAAA,IAAA,CAAA,KAAA,CAAA,IAAA,EAAA,GAAA,CAAA,UAAA,EAAA;AAAA,yBAAA,EAAA,CAAA,IAAA,EAAA;AAAA,iBAAA,CADA;AAAA;AAAA,uBAEA,MAAA,CAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAFA;;AAAA;AAEA,gBAAA,OAFA;;AAGA,gBAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA,EAHA,CAGA;;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAXA;AARA,CAAA","sourcesContent":["<style scoped>\nlabel{\n  border:1px solid;\n  border-radius: 3px;\n}\n</style>\n\n<template>\n  <div>\n    <h2>新建下载</h2>\n    <input type=\"file\" hidden id=\"bt-file-select\">\n    <label for=\"bt-file-select\">选择BT种子</label>\n    <input type=\"file\" hidden id=\"meta-file-select\">\n    <label for=\"meta-file-select\">选择Metalink种子</label>\n    <div>\n      <textarea v-model=\"uris\" cols=\"50\" rows=\"8\"></textarea>\n    </div>\n    <button @click=\"start\">确定</button>\n  </div>\n</template>\n\n<script>\nfunction getFileContent(file){\n  return new Promise((resolve,reject)=>{\n    var fr = new FileReader()\n    // 用来将bt文件转换\n    fr.onload = function(){\n      var commaPos = fr.result.indexOf(',')\n      resolve(fr.result.slice(commaPos + 1))\n      // 成功读取则运行此函数，去掉文件读取后前面的data:URL,\n     // onload是文件读取完成时触发\n    }\n    fr.onerror = reject // 出错事件函数赋为reject(文件读取时触发)\n    fr.readAsDataURL(file)\n  })\n}\nexport default { \n  name:'Newtasks',\n  props:['aria2'],\n  data(){\n    return{\n      uris:''\n    }\n  },\n  methods:{\n    async startBT(e){\n      var file = e.target.files[0]\n      var btFileContent=await getFileContent(file)\n      await this.aria2.addTorrent(btFileContent)\n      this.$router.push('/')\n    },\n   async start(){\n      var uris = this.uris.split('/n').map(it=>it.trim())\n      var taskIds = await this.aria2.addUri(uris)\n      this.$router.push('/')// 回到首页\n    }\n  }\n}\n</script>"],"sourceRoot":"src/views"}]}