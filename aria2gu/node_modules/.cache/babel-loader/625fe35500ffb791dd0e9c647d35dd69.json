{"remainingRequest":"/Users/zhengwen/Desktop/zw/aria2gu/node_modules/babel-loader/lib/index.js!/Users/zhengwen/Desktop/zw/aria2gu/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/zhengwen/Desktop/zw/aria2gu/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhengwen/Desktop/zw/aria2gu/src/views/Downloading.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhengwen/Desktop/zw/aria2gu/src/views/Downloading.vue","mtime":1639044431724},{"path":"/Users/zhengwen/Desktop/zw/aria2gu/babel.config.js","mtime":1637998144475},{"path":"/Users/zhengwen/Desktop/zw/aria2gu/node_modules/cache-loader/dist/cjs.js","mtime":1637998138681},{"path":"/Users/zhengwen/Desktop/zw/aria2gu/node_modules/babel-loader/lib/index.js","mtime":1637998138838},{"path":"/Users/zhengwen/Desktop/zw/aria2gu/node_modules/cache-loader/dist/cjs.js","mtime":1637998138681},{"path":"/Users/zhengwen/Desktop/zw/aria2gu/node_modules/vue-loader/lib/index.js","mtime":1637998138883}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy96aGVuZ3dlbi9EZXNrdG9wL3p3L2FyaWEyZ3Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9Vc2Vycy96aGVuZ3dlbi9EZXNrdG9wL3p3L2FyaWEyZ3Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5LmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy96aGVuZ3dlbi9EZXNrdG9wL3p3L2FyaWEyZ3Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmF0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmF0LWFsdGVybmF0aXZlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLyBAIGlzIGFuIGFsaWFzIHRvIC9zcmMKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJEb3dubG9hZGluZyIsCiAgcHJvcHM6IFsnYXJpYTInXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFza3M6IFtdLAogICAgICBzZWxlY3RlZDogW10sCiAgICAgIHNlYXJjaFRleHQ6ICcnLAogICAgICBzb3J0Q29sdW1uOiAnJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICB2aXNpYmxlVGFza3M6IGZ1bmN0aW9uIHZpc2libGVUYXNrcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnNlYXJjaFRleHQgPT0gJycpIHsKICAgICAgICByZXR1cm4gdGhpcy50YXNrczsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy50YXNrcy5maWx0ZXIoZnVuY3Rpb24gKGl0KSB7CiAgICAgICAgICByZXR1cm4gaXQuZmlsZXNbMF0ucGF0aC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKF90aGlzLnNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBhcmlhMjogZnVuY3Rpb24gYXJpYTIoKSB7CiAgICAgIHRoaXMudGFza3MgPSBbXTsKICAgICAgdGhpcy51cGRhdGVMaXN0KCk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgdGhpcy5hcmlhMi5vbignRG93bmxvYWRTdGFydCcsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMyLnVwZGF0ZUxpc3QoKTsKICAgIH0pOwogICAgdGhpcy5hcmlhMi5vbignRG93bmxvYWRDb21wbGV0ZScsIGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMyLnVwZGF0ZUxpc3QoKTsKICAgIH0pOwogICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnVwZGF0ZUxpc3QoKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDU7CiAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgwKTsKCiAgICAgICAgICAgICAgaWYgKCEoX2NvbnRleHQudDAgPT0gJ1dTX0NPTk5FQ1RJT05fRVJST1InKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjbGVhckludGVydmFsKF90aGlzMi5pbnRlcnZhbElkKTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIHRocm93IF9jb250ZXh0LnQwOwoKICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA1XV0pOwogICAgfSkpLCAxMDApOwogIH0sCiAgbWV0aG9kczogewogICAgLy8gc29ydENoYW5nZSh7IGNvbHVtbiwgcHJvcCwgb3JkZXIgfSkgewogICAgLy8gICB0aGlzLnNvcnRDb2x1bW4gPSBjb2x1bW4KICAgIC8vIH0sCiAgICBnZXRTcGVlZDogZnVuY3Rpb24gZ2V0U3BlZWQocm93KSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGFyZ3MpCiAgICAgIHJldHVybiAocm93LmRvd25sb2FkU3BlZWQgLyAxMDI0KS50b0ZpeGVkKDIpICsgJ2svcyc7CiAgICB9LAogICAgLy8gZ29EZXRhaWwodGFzaykgewogICAgLy8gICB0aGlzLiRyb3V0ZXIucHVzaCgnL3Rhc2svJyArIHRhc2suZ2lkKQogICAgLy8gfSwKICAgIHVwZGF0ZUxpc3Q6IGZ1bmN0aW9uIHVwZGF0ZUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IFtdOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQxID0gX3RvQ29uc3VtYWJsZUFycmF5OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5hcmlhMi50ZWxsQWN0aXZlKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MiA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQzID0gKDAsIF9jb250ZXh0Mi50MSkoX2NvbnRleHQyLnQyKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50NCA9IF90b0NvbnN1bWFibGVBcnJheTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmFyaWEyLnRlbGxXYWl0aW5nKDAsIDEwMCk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIudDUgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50NiA9ICgwLCBfY29udGV4dDIudDQpKF9jb250ZXh0Mi50NSk7CiAgICAgICAgICAgICAgICBfdGhpczMudGFza3MgPSBfY29udGV4dDIudDAuY29uY2F0LmNhbGwoX2NvbnRleHQyLnQwLCBfY29udGV4dDIudDMsIF9jb250ZXh0Mi50Nik7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE1OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQ3ID0gX2NvbnRleHQyWyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgX3RoaXMzLnRhc2tzID0gW107CiAgICAgICAgICAgICAgICB0aHJvdyBfY29udGV4dDIudDc7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMCwgMTVdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWvuemAieS4reeahOS7u+WKoeaJp+ihjOafkOenjeaTjeS9nO+8muW8gOWni++8jOaaguWBnO+8jOWIoOmZpAogICAgZXhlY1NlbGVjdGVkOiBmdW5jdGlvbiBleGVjU2VsZWN0ZWQoYWN0aW9uKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHNlbGVjdGVkVGFzaywgX2l0ZXJhdG9yLCBfc3RlcCwgdGFzazsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKGFjdGlvbiA9PSAncmVtb3ZlJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LiRjb25maXJtKCfnoa7lrprliKDpmaTlkJc/Jyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDY7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIHNlbGVjdGVkVGFzayA9IF90aGlzNC50YXNrcy5maWx0ZXIoZnVuY3Rpb24gKHRhc2spIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5zZWxlY3RlZC5pbmNsdWRlcyh0YXNrLmdpZCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHNlbGVjdGVkVGFzayk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDExOwoKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5zKCk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBpZiAoKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0YXNrID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDE1OwoKICAgICAgICAgICAgICAgIGlmICghKGFjdGlvbiA9PSAncGF1c2UnICYmIHRhc2suc3RhdHVzID09ICdwYXVzZWQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgiY29udGludWUiLCAyNyk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBpZiAoIShhY3Rpb24gPT0gJ3VucGF1c2UnICYmIHRhc2suc3RhdHVzID09ICdhY3RpdmUnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgiY29udGludWUiLCAyNyk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5hcmlhMlthY3Rpb25dKHRhc2suZ2lkKTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMjQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDEgPSBfY29udGV4dDNbImNhdGNoIl0oMTUpOwoKICAgICAgICAgICAgICAgIF90aGlzNC4kYWxlcnQoX2NvbnRleHQzLnQxLm1lc3NhZ2UpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnb2tra2trJyk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzQ7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAzMToKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMzE7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDIgPSBfY29udGV4dDNbImNhdGNoIl0oMTEpOwoKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5lKF9jb250ZXh0My50Mik7CgogICAgICAgICAgICAgIGNhc2UgMzQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDM0OwoKICAgICAgICAgICAgICAgIF9pdGVyYXRvci5mKCk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5maW5pc2goMzQpOwoKICAgICAgICAgICAgICBjYXNlIDM3OgogICAgICAgICAgICAgICAgX3RoaXM0LnVwZGF0ZUxpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAzODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1sxLCA2XSwgWzExLCAzMSwgMzQsIDM3XSwgWzE1LCAyNF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VsZWN0QWxsOiBmdW5jdGlvbiBzZWxlY3RBbGwoKSB7CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkLmxlbmd0aCA9PSB0aGlzLnRhc2tzLmxlbmd0aCkgewogICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBbXTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy50YXNrcy5tYXAoZnVuY3Rpb24gKGl0KSB7CiAgICAgICAgICByZXR1cm4gaXQuZ2lkOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgdG9nZ2xlU2VsZWN0OiBmdW5jdGlvbiB0b2dnbGVTZWxlY3QodGFzaykgewogICAgICB2YXIgaWR4ID0gdGhpcy5zZWxlY3RlZC5pbmRleE9mKHRhc2suZ2lkKTsKCiAgICAgIGlmIChpZHggPT0gLTEpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkLnB1c2godGFzay5naWQpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0ZWQuc3BsaWNlKGlkeCwgMSk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRGaWxlbmFtZTogZnVuY3Rpb24gZ2V0RmlsZW5hbWUodGFzaykgewogICAgICB2YXIgX3Rhc2skZmlsZXM7CgogICAgICBpZiAoKF90YXNrJGZpbGVzID0gdGFzay5maWxlcykgIT09IG51bGwgJiYgX3Rhc2skZmlsZXMgIT09IHZvaWQgMCAmJiBfdGFzayRmaWxlc1swXS5wYXRoKSB7CiAgICAgICAgcmV0dXJuIHRhc2suZmlsZXNbMF0ucGF0aC5zcGxpdCgnLycpLmF0KC0xKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgX3Rhc2skZmlsZXMkdXJpcyQwJHVyLCBfdGFzayRmaWxlczIsIF90YXNrJGZpbGVzMiR1cmlzLCBfdGFzayRmaWxlczIkdXJpcyQ7CgogICAgICAgIHJldHVybiAoX3Rhc2skZmlsZXMkdXJpcyQwJHVyID0gKF90YXNrJGZpbGVzMiA9IHRhc2suZmlsZXMpID09PSBudWxsIHx8IF90YXNrJGZpbGVzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90YXNrJGZpbGVzMiR1cmlzID0gX3Rhc2skZmlsZXMyLnVyaXMpID09PSBudWxsIHx8IF90YXNrJGZpbGVzMiR1cmlzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3Rhc2skZmlsZXMyJHVyaXMkID0gX3Rhc2skZmlsZXMyJHVyaXNbMF0pID09PSBudWxsIHx8IF90YXNrJGZpbGVzMiR1cmlzJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3Rhc2skZmlsZXMyJHVyaXMkLnVyaS5zcGxpdCgnLycpLmF0KC0xKSkgIT09IG51bGwgJiYgX3Rhc2skZmlsZXMkdXJpcyQwJHVyICE9PSB2b2lkIDAgPyBfdGFzayRmaWxlcyR1cmlzJDAkdXIgOiAn5pyq55+lJzsKICAgICAgfQogICAgfSwKICAgIGdldFBlcmNlbnQ6IGZ1bmN0aW9uIGdldFBlcmNlbnQodGFzaykgewogICAgICBpZiAodGFzay5jb21wbGV0ZWRMZW5ndGggPT0gMCkgewogICAgICAgIHJldHVybiAwOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAodGFzay5jb21wbGV0ZWRMZW5ndGggLyB0YXNrLnRvdGFsTGVuZ3RoICogMTAwKS50b0ZpeGVkKDIpICsgJyUnOwogICAgICB9CiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpOwogIH0sCiAgY29tcG9uZW50czoge30KfTs="},{"version":3,"sources":["Downloading.vue"],"names":[],"mappings":"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","sourcesContent":["<style lang=\"less\" scoped>\n  ul {\n    list-style: none;\n  }\n  li {\n    /* display: flex; */\n    cursor: pointer;\n    &.selected {\n      background-color: rgb(221, 221, 221);\n    }\n    &:hover {\n      background-color: skyblue;\n    }\n  }\n</style>\n<template>\n  <div class=\"downloading\">\n    <h2>正在下载</h2>\n    <div>\n      <el-button type=\"primary\" icon=\"el-icon-video-pause\" @click=\"execSelected('pause')\">暂停</el-button>\n      <el-button type=\"primary\" icon=\"el-icon-video-play\" @click=\"execSelected('unpause')\">开始</el-button>\n      <el-button type=\"primary\" icon=\"el-icon-circle-close\" @click=\"execSelected('remove')\">删除</el-button>\n      <el-button type=\"primary\" icon=\"el-icon-check\" @click=\"selectAll\">全选</el-button>\n      <el-input size=\"small\" placeholder=\"请输入内容\" prefix-icon=\"el-icon-search\" v-model=\"searchText\"/>\n    </div>\n    <ul>\n      <li v-for=\"task of visibleTasks\" :class=\"{selected: selected.includes(task.gid)}\" :key=\"task.gid\" @click=\"toggleSelect(task)\">\n        <input type=\"checkbox\" :checked=\"selected.includes(task.gid)\" >\n        <span>{{ getFilename(task) }}</span>\n        |\n        <span>{{ getPercent(task) }}</span>\n        |\n        <span>{{ task.downloadSpeed / 1024 | fixed }}k/s</span>\n        |\n        <span>{{ task.status }}</span>\n        |\n        <!-- <button @click.stop=\"goDetail(task)\">详情</button> -->\n        <router-link @click.native.stop :to=\"{name: 'taskDetail', params: {gid: task.gid}}\">详情</router-link>\n      </li>\n    </ul>\n    <el-table\n      @sort-change=\"sortChange\"\n      :data=\"visibleTasks\"\n      style=\"width: 100%\">\n      <el-table-column\n        prop=\"gid\"\n        label=\"名称\"\n        sortable>\n      </el-table-column>\n      <el-table-column\n        :formatter=\"getPercent\"\n        label=\"进度\"\n        sortable>\n      </el-table-column>\n      <el-table-column\n        :formatter=\"getSpeed\"\n        label=\"速度\"\n        sortable>\n      </el-table-column>\n      <el-table-column\n        prop=\"status\"\n        label=\"状态\"\n        sortable>\n      </el-table-column>\n    </el-table>\n\n\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\n\nexport default {\n  name: \"Downloading\",\n  props: ['aria2'],\n  data() {\n    return {\n      tasks: [],\n      selected: [],\n      searchText: '',\n      sortColumn: '',\n    }\n  },\n  computed: {\n    visibleTasks() {\n      if (this.searchText == '') {\n        return this.tasks\n      } else {\n        return this.tasks.filter(it => {\n          return it.files[0].path.toLowerCase().includes(this.searchText.toLowerCase())\n        })\n      }\n    }\n  },\n  watch: {\n    aria2() {\n      this.tasks = []\n      this.updateList()\n    }\n  },\n  mounted() {\n    this.aria2.on('DownloadStart', () => {\n      this.updateList()\n    })\n    this.aria2.on('DownloadComplete', () => {\n      this.updateList()\n    })\n\n    this.intervalId = setInterval(async () => {\n      try {\n        await this.updateList()\n      } catch(e) {\n        if (e == 'WS_CONNECTION_ERROR') {\n          clearInterval(this.intervalId)\n        } else {\n          throw e\n        }\n      }\n    }, 100)\n  },\n  methods: {\n    // sortChange({ column, prop, order }) {\n    //   this.sortColumn = column\n    // },\n    getSpeed(row) {\n      // console.log(args)\n      return (row.downloadSpeed / 1024 ).toFixed(2) + 'k/s'\n    },\n    // goDetail(task) {\n    //   this.$router.push('/task/' + task.gid)\n    // },\n    async updateList() {\n      try {\n        this.tasks = [\n          ...await this.aria2.tellActive(),\n          ...await this.aria2.tellWaiting(0, 100)\n        ]\n      } catch(e) {\n        this.tasks = []\n        throw e\n      }\n    },\n    // 对选中的任务执行某种操作：开始，暂停，删除\n    async execSelected(action) {\n      if (action == 'remove') {\n        try {\n          await this.$confirm('确定删除吗?')\n        } catch(e) {\n          return\n        }\n      }\n\n      var selectedTask = this.tasks.filter(task => {\n        return this.selected.includes(task.gid)\n      })\n      for (let task of selectedTask) {\n        try {\n          if (action == 'pause' && task.status == 'paused') {\n            continue\n          }\n          if (action == 'unpause' && task.status == 'active') {\n            continue\n          }\n          await this.aria2[action](task.gid)\n        } catch(e) {\n          this.$alert(e.message).then(() => {\n            console.log('okkkkk')\n          })\n        }\n      }\n      this.updateList()\n    },\n    selectAll() {\n      if (this.selected.length == this.tasks.length) {\n        this.selected = []\n      } else {\n        this.selected = this.tasks.map(it => it.gid)\n      }\n    },\n    toggleSelect(task) {\n      var idx = this.selected.indexOf(task.gid)\n\n      if (idx == -1) {\n        this.selected.push(task.gid)\n      } else {\n        this.selected.splice(idx, 1)\n      }\n    },\n    getFilename(task) {\n      if (task.files?.[0].path) {\n        return task.files[0].path.split('/').at(-1)\n      } else {\n        return task.files?.uris?.[0]?.uri.split('/').at(-1) ?? '未知'\n      }\n    },\n    getPercent(task) {\n      if (task.completedLength == 0) {\n        return 0\n      } else {\n        return (task.completedLength / task.totalLength * 100).toFixed(2) +'%'\n      }\n    },\n  },\n  beforeDestroy() {\n    clearInterval(this.intervalId)\n  },\n  components: {\n\n  },\n};\n</script>\n"],"sourceRoot":"src/views"}]}