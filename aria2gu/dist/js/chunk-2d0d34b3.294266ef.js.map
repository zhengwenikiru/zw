{"version":3,"sources":["webpack:///./src/views/Servers.vue?aa5a","webpack:///src/views/Servers.vue","webpack:///./src/views/Servers.vue?2832","webpack:///./src/views/Servers.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","on","$event","dialogFormVisible","editIndex","attrs","form","model","value","newServer","callback","$$v","$set","expression","staticClass","slot","addServer","_l","server","idx","key","_s","name","host","port","domProps","secret","removeServer","editServer","staticRenderFns","data","servers","JSON","parse","localStorage","getItem","newserver","watch","setItem","$emit","methods","targetServer","Object","assign","push","component"],"mappings":"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","file":"js/chunk-2d0d34b3.294266ef.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"管理服务器\")]),_c('button',{on:{\"click\":function($event){_vm.dialogFormVisible = true;_vm.editIndex = -1}}},[_vm._v(\"添加\")]),_c('el-dialog',{attrs:{\"title\":\"添加服务器\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"Name\",\"label-width\":\"80px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.newServer.name),callback:function ($$v) {_vm.$set(_vm.newServer, \"name\", $$v)},expression:\"newServer.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Host\",\"label-width\":\"80px\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.newServer.host),callback:function ($$v) {_vm.$set(_vm.newServer, \"host\", $$v)},expression:\"newServer.host\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Port\",\"label-width\":\"80px\"}},[_c('el-input-number',{attrs:{\"max\":65535,\"min\":1,\"autocomplete\":\"off\"},model:{value:(_vm.newServer.port),callback:function ($$v) {_vm.$set(_vm.newServer, \"port\", $$v)},expression:\"newServer.port\"}})],1),_c('el-form-item',{attrs:{\"label\":\"Secret\",\"label-width\":\"80px\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.newServer.secret),callback:function ($$v) {_vm.$set(_vm.newServer, \"secret\", $$v)},expression:\"newServer.secret\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogFormVisible = false;_vm.addServer()}}},[_vm._v(\"确 定\")])],1)],1),_c('ul',_vm._l((_vm.servers),function(server,idx){return _c('li',{key:idx},[_vm._v(\" Name:\"+_vm._s(server.name)+\" Host:\"+_vm._s(server.host)+\" Port:\"+_vm._s(server.port)+\" Secret: \"),_c('input',{attrs:{\"type\":\"password\"},domProps:{\"value\":server.secret}}),_c('button',{on:{\"click\":function($event){return _vm.removeServer(idx)}}},[_vm._v(\"删除\")]),_c('button',{on:{\"click\":function($event){return _vm.editServer(idx)}}},[_vm._v(\"编辑\")])])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h2>管理服务器</h2>\n    <button @click=\"dialogFormVisible = true;editIndex = -1\">添加</button>\n\n    <el-dialog title=\"添加服务器\" :visible.sync=\"dialogFormVisible\">\n  <el-form :model=\"form\">\n    <el-form-item label=\"Name\" label-width=\"80px\">\n      <el-input v-model=\"newServer.name\" autocomplete=\"off\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"Host\" label-width=\"80px\">\n      <el-input v-model=\"newServer.host\" autocomplete=\"off\"></el-input>\n    </el-form-item>\n    <el-form-item label=\"Port\" label-width=\"80px\">\n       <el-input-number v-model=\"newServer.port\" :max=\"65535\" :min=\"1\" autocomplete=\"off\"></el-input-number>\n    </el-form-item>\n       <el-form-item label=\"Secret\" label-width=\"80px\">\n       <el-input type=\"password\" v-model=\"newServer.secret\" autocomplete=\"off\"></el-input>\n    </el-form-item>\n  </el-form>\n  <div slot=\"footer\" class=\"dialog-footer\">\n    <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n    <el-button type=\"primary\" @click=\"dialogFormVisible = false;addServer()\">确 定</el-button>\n  </div>\n</el-dialog>\n    <ul>\n      <li v-for=\"(server,idx) of servers\" :key=\"idx\">\n        Name:{{ server.name }}\n        Host:{{ server.host }}\n        Port:{{ server.port }}\n        Secret: <input type=\"password\" :value=\"server.secret\">\n        <button @click=\"removeServer(idx)\">删除</button>\n        <button @click=\"editServer(idx)\">编辑</button>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  data(){\n    var servers = JSON.parse(localStorage.getItem('aria2Servers')) || []\n    return{\n      servers:servers,\n      dialogFormVisible:false,\n      editIndex:-1,// 当前正在编辑的服务器，为-1时表示添加\n      newserver:{\n        name:'',\n        host:'127.0.0.1',\n        port:6800,\n        secret:''\n      }\n    }\n  },\n  watch:{\n    servers(servers){\n      localStorage.setItem('aria2Servers',JSON.stringify(servers))\n      this.$emit('servers-changed',this.servers)\n    }\n  },\n  methods:{\n   async removeServer(){\n     try{\n       await this.$confirm('确定要删除吗？')\n       this.servers.splice(idx,1)\n     } catch(e){\n       if(e == 'cancel'){\n\n       }else{\n         throw e\n       }\n     }\n    },\n    editServer(idx){\n      this.editIndex = idx\n      var targetServer = this.servers[idx]\n      Object.assign(this.newServer,targetServer)\n      // 将targetServer的每个字段都赋给 this.newServer\n      this.dialogFormVisible =true\n    },\n    addServer(){\n      if(this.editIndex == -1){// 添加服务器\n        this.servers.push(this.newserver)\n      this.newserver={\n          name:'',\n          host:'127.0.0.1',\n          port:6800,\n          secret:''\n        }\n      }else{// 修改现存的服务器\n      this.servers.splice(this.editIndex,1,this.newserver)\n      this.newserver={\n          name:'',\n          host:'127.0.0.1',\n          port:6800,\n          secret:''\n        }\n      }\n      // 初始化\n    }\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Servers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Servers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Servers.vue?vue&type=template&id=38a62e16&\"\nimport script from \"./Servers.vue?vue&type=script&lang=js&\"\nexport * from \"./Servers.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}